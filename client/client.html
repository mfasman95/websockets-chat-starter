<!DOCTYPE html>
<html lang="en">
<head>
		<script src="/socket.io/socket.io.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
		
		<script type="text/babel">
			const connectSocket = (e) => {
				const message = document.querySelector("#message");
				const chat = document.querySelector("#chat");
				const socket = io.connect();

				socket.on('connect', () => {
					console.log('Connecting to socket server...');
					socket.emit('join', { name: document.querySelector("#username").value || 'unknown' });
				});

				socket.on('msg', (data) => {
					console.dir(data);
				})
			};

			const init = () => {
				const connect = document.querySelector("#connect");
				connect.addEventListener('click', connectSocket);
			};

			window.onload = init;
		</script>
	<style>
		textarea {
			display: block;
			background-color: #EEEEEE;
		}
	</style>
</head>
<body>
	<label for="user">Username:</label>
	<input id="username" name="user" type="text"/>
	<input id="connect" type='button' value='connect'/>
	<br/>
	<label for="message">Message:</label>
	<input id="message" name="message" type="text"/>
	<input id="send" type="button" value="send" />
	
	<textarea id="chat" rows="20" cols="40" readonly> </textarea>
</body>
</html>